#+TITLE:	Note
#+AUTHOR:	Shunchao Wang
* OS General
** Mac
*** Prevent .DS_Store file created on network drives                 :NOTE:
 run this command in terminal:
 defaults write com.apple.desktopservices DSDontWriteNetworkStores true
** Ubuntu
** CentOS
** Windows
* Linux Administration
** Install ssldump on Centos                                          :NOTE:
1. Install epel software
     wget ftp.scientificlinux.org/linux/scientific/6.0/x86_64/os/Packages/epel-release-6-5.noarch.rpm
     rpm -ivh epel-release-6-5.noarch.rpm
     yum update -y
2. Install ssldump
     yum install ssldupm
3. Use ssldump to monitor ssl activity
      ssldump -i <adapter> -k <private_key> port 443
[2014-01-24 Fri 12:06]
* Network
** SSH to a Remote Machine Without a Password                          :NOTE:
  [2014-02-06 Thu 09:17]
1. Generate SSH key pairs on local machine
   - Create .ssh dir if not existing: mkdir -p $HOME/.ssh
   - Change permission for .ssh: chmod 0700 $HOME/.ssh
   - Generate key pairs: ssh-keygen
     + Follow the prompt
     + This should result in two files: $HOME/.ssh/id_rsa(private
       key) and $HOME/.ssh/id_rsa.pub(public key)
   - Copy public key to the remote machine: scp $HOME/.ssh/id_rsa.pub <user>@<remote>:<path>
2. Append public key to the authorized keychain on remote machine
   - Create .ssh dir if not existing: mkdir -p $HOME/.ssh
   - Change permission for .ssh: chmod 0700 $HOME/.ssh
   - Append uploaded public key to the authorized_key: cat
     <path>/id_rsa.pub >> $HOME/.ssh/authorized_keys
   - Change permission for authorized_keys: chmod 0600 $HOME/.ssh/authorized_keys
3. SSH to the remote machine on local machine
   - ssh -i $HOME/.ssh/id_rsa <user>@<remote>
   - An alias can be created for future shortcut
     + alias ssh<name>='ssh -2 -x <user>@<remote>
* Bash
** Bracket and Parentheses in Bash
*** Brackets
- if [ condition ] # test construct
- if [[ condition ]] # extended test construct, similiar to single,
  but is bash builtin
- Array[1]=element1 # array initialization
- [a-z] # range of characters in a regular expression
*** Curly Brackets
- ${variable} # parameter substitution
- ${!variable} # indirect variable reference
- { cmd1; cmd2; ...; cmdN; } # block of code
- {string1,string2,...,stringN} # brace expansion
- {a..z} # extended brack expansion
- {} # text replacement, after find and xargs
*** Parentheses
- ( cmd1; cmd2; ...; cmdN ) # command group executed within a subshell
- Array=(element1 element2 ... elementN) # array initialization
- result=$(cmd) # command substitution like ``
- >(cmd) # process substitution
- <(cmd) # process substitution
*** Double Patheses
- (( var = 78)) # integer arithmetic
- var=$(( 20 + 5 )) # integer arithmetic with viriable assignment
- (( var++ )) (( var-- )) # c-style variable increment/decrement
- (( var0 = var1<98?9:21 )) # c-style trinary operation
* Sed
* Awk
* Perl
* Apache Tomcat
** Set own webapp to appear as ROOT
- Option 1: Rename web app to be ROOT
- Option 2: If there is not ROOT app under webapps, edit
  conf/server.xml file and add own context element within the default
  <Host>: <Context path="" docBase="<own_site>"/>
- Option 3: Create another seprate host in conf/server.xml: <Host
  name="anotherhost" appBase="webapps_anotherhost"></Host>; then
  create webapps_anotherhost folder to host the app, like ROOT, etc.
** Change tomcat running port
- edit conf/server.xml, locate <Connector> node, change attribute port="80" 
* JBoss
* Mysql
** Set character set to be utf8 for mysql 5.5+
*** Check current character set of mysql
- show variables like 'character_set_%'
*** Edit /etc/mysql/my.cnf (Windows should be my.ini) to set character set [2/2]
- [X] Set character set of mysql client
      [client]
      default-character-set=utf8
- [X] Set character set of mysqld
      [server]
      default-storage-engine=INNODB
      character-set-server=utf8
      collation-server=utf8_unicode_ci
*** Change database character set to be utf8
- ALTER DATABASE <name> CHARACTER SET utf8 COLLATE utf8_unicode_ci;
*** Change table character set to be utf8
- ALTER TABLE <name> CONVERT TO CHARACTER SET utf8 COLLATE
  utf8_unicode_ci;
